variables:
  GIT_STRATEGY: clone

stages:
  - lint
  - test
  - integration



.base: &base
  image: python:latest
  before_script:
    - python -V
    - python -m pip install --upgrade pip
    - cd xtr2database || exit 1

lint:
  <<: *base
  stage: lint
  script:
    - python -m pip install -r requirements.txt
    - python -m pip install -r requirements-dev.txt
    - python -m flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics # que les erreurs de compilation pour le moment
